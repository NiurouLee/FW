# UIFacade Odin Inspector 使用说明

## 概述
这是一个使用 Odin Inspector 实现的 UIFacade 自定义编辑器，提供了美观且功能丰富的 Inspector 界面。

## 主要功能

### 1. 基本信息配置
- **启用子模块**: 可选择是否启用子模块功能的toggle开关
- **是否Window**: 设置UI是否为窗口模式的toggle开关
- **模块名称**: 设置UI所属的模块名称
- **子模块名称**: 设置UI所属的子模块名称（可选，需先启用）
- **UI名称**: 设置UI的名称（必填）
- **脚本名称**: 根据模块名+子模块名+UI名称+窗口模式自动生成（只读）
- **ID**: 根据模块名+子模块名+UI名称自动生成（只读）

### 2. UI元素管理
- **可视化列表**: 使用 Odin 的强大列表绘制功能
- **拖拽排序**: 支持通过拖拽重新排序UI元素
- **实时验证**: 自动验证元素名称的唯一性和有效性
- **组件预览**: 显示组件类型和在层级中的路径

### 3. 工具功能
- **自动收集子对象**: 自动收集GameObject下的所有组件并添加到列表
- **清空列表**: 一键清空所有UI元素
- **验证配置**: 检查配置的完整性和有效性
- **保存配置**: 保存当前配置到资源文件
- **生成脚本**: （开发中）自动生成相关代码

### 4. 自动生成功能
- **智能命名**: 根据输入自动生成标准化的脚本名称和ID
- **命名规范**: 脚本名称使用PascalCase，ID使用snake_case
- **实时预览**: 显示生成规则和当前示例
- **一键操作**: 提供重新生成和复制ID功能

### 5. ViewConfig 配置
- **UI层级设置**: 设置UI在不同层级的显示顺序
- **窗口模式**: 配置是否为窗口模式显示
- **资源ID管理**: 设置UI资源的唯一标识
- **层级说明**: 实时显示当前层级的用途说明
- **配置同步**: 支持UIFacade和ViewConfig之间的数据同步

### 6. Odin 特性增强

#### UIFacade 类特性：
- `[TabGroup]`: 将属性分组到不同的标签页
- `[LabelText]`: 自定义属性标签文本
- `[Required]`: 标记必填字段
- `[ListDrawerSettings]`: 自定义列表绘制设置

#### UIElement 类特性：
- `[HorizontalGroup]`: 水平排列属性
- `[ValidateInput]`: 自定义输入验证
- `[EnumToggleButtons]`: 枚举按钮样式
- `[ShowInInspector]`: 显示只读属性
- `[AssetsOnly]`: 限制只能选择资源文件中的组件

## 使用方法

1. **添加 UIFacade 组件**: 在需要管理UI元素的GameObject上添加UIFacade组件

2. **配置基本信息**: 在"基本信息"标签页中填写相关信息
   - 第一行的两个toggle开关可快速设置子模块和窗口模式
   - 如需使用子模块，启用"启用子模块"开关
   - "是否Window"开关会影响脚本名称的后缀（Window/View）

3. **添加UI元素**: 
   - 点击"+"按钮手动添加元素
   - 使用"自动收集子对象"按钮批量添加
   - 拖拽组件到组件字段

4. **验证和保存**: 使用"验证配置"检查设置，然后"保存配置"

5. **查看生成结果**:
   - 脚本名称和ID会根据输入自动生成
   - 可使用"重新生成"按钮手动触发生成
   - 可使用"复制ID"按钮复制生成的ID到剪贴板

6. **配置ViewConfig**:
   - 设置UI层级（BackGround、HUD、Common等）
   - 选择是否为窗口模式
   - 配置资源ID
   - 使用"同步ID"按钮同步UIFacade的ID到ViewConfig

## 生成规则

### 脚本名称生成规则 (PascalCase)
- 格式: `模块名` + `子模块名` + `UI名称` + `Window/View`
- 示例: `GameUILoginView` 或 `GameUILoginWindow`
- 后缀根据ViewConfig中的窗口模式决定

### ID生成规则 (snake_case)
- 格式: `module_name.sub_module_name.ui_name`
- 示例: `game.ui.login`
- 使用点号分隔，全小写加下划线

## 注意事项

- 确保项目中已安装 Odin Inspector 插件
- 元素名称必须唯一且不能包含特殊字符
- 组件引用必须是有效的Unity组件
- 使用自动收集功能时会排除Transform和UIFacade组件本身

## 扩展功能

可以通过修改 `UIFacadeInspector.cs` 来添加更多自定义功能：
- 自定义绘制样式
- 添加更多验证规则  
- 实现脚本生成功能
- 添加导入/导出配置功能
